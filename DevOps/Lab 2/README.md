# Отчёт по лабораторной работе №2

## Задание
- [ ] Написать “плохой” Dockerfile, в котором есть не менее трех “bad practices” по написанию докерфайлов
- [ ] Написать “хороший” Dockerfile, в котором эти плохие практики исправлены
- [ ] В Readme описать каждую из плохих практик в плохом докерфайле, почему она плохая и как в хорошем она была исправлена, как исправление повлияло на результат
- [x] В Readme описать 2 плохих практики по работе с контейнерами. ! Не по написанию докерфайлов, а о том, как даже используя хороший докерфайл можно накосячить именно в работе с контейнерами.


---

### 1. Установка Docker

Сначала нужно установить Docker на нашу машину. Для этого воспользуемся инструкциями с [этого сайта](https://docs.docker.com/engine/install/ubuntu/)

---

### 2. Плохой Dockerfile

Теперь напишем плохой Dockerfile. 

```Dockerfile
FROM python:latest

# TODO
```

Создадим образ командой `sudo docker build -t "bad-image" .` и запустим контейнер командой `sudo docker run bad-image`

[result1](/media/result1.png)

Ну так работает же ...

### Почему так делать не надо:
1. Использование тега latest
2. ...
3. ...
4. ...

---

### 3. Хороший Dockerfile

Теперь перепишем докерфайл, используя хорошие практики:

```Dockerfile
FROM python:3.13-slim

WORKDIR /app

COPY /main.py .

RUN useradd -ms /bin/bash newuser

USER newuser

CMD ["python3", "main.py"]
```

Теперь снова запустим контейнер, чтобы убедиться, что своими улучшениями мы ничего не сломали

[result2](/media/result2.png)

### Почему так делать надо:
1. **Использование конкретной версии**
2. **Использование рабочей директории**
3. **Копирование только нужных файлов**
4. **Использование user без root прав**
5. **Запуск через CMD exec**

---

### 4. Bad practices по работе с контейнерами

1. **Хранить данные в контейнерах**. Данные живут пока живёт контейнер, поэтому при завершении работы контейнера все данные потеряются.
2. **Пихать в один контейнер много разных процессов**. Не стоит так делать, потому что можно столкнуться с непредвиденными сложностями и проблемами в настройке, к тому же это затруднит отладку. Контейнеры нужно использовать строго для выполнения одного процесса.

---

## Вывод
Все пункты из задания были выполнены. В ходе работы были написаны плохой и хороший докерфайлы, а также приведены плохие практики по работе с контейнерами 

##### Работу выполнил Иванов Семён
